<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>提案管理 - WebMatch</title>

		<!-- 非公開 -->
		<script blocking="render" async src="js/auth.js"></script>
		<meta name="robots" content="noindex, nofollow" />

		<script src="https://cdn.tailwindcss.com"></script>
		<link
			href="https://cdn.jsdelivr.net/npm/daisyui@4.4.10/dist/full.min.css"
			rel="stylesheet"
			type="text/css"
		/>
		<script src="https://unpkg.com/heroicons@2.0.18/24/outline/index.js"></script>
		<script src="https://unpkg.com/heroicons@2.0.18/24/solid/index.js"></script>
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body class="bg-gray-50">
		<!-- Header -->
		<header class="header-kawaii fixed top-0 left-0 right-0 z-50 lg:left-80">
			<div class="flex items-center justify-between">
				<div class="flex items-center gap-4">
					<button
						id="mobile-menu-btn"
						class="lg:hidden p-2 rounded-lg hover:bg-gray-100"
						aria-label="メニューを開く"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
							/>
						</svg>
					</button>
					<h1 class="text-2xl font-bold text-gray-800">提案管理</h1>
				</div>
				<div class="flex items-center gap-4">
					<div class="flex items-center gap-2 text-sm text-gray-600">
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
							/>
						</svg>
						<span>総提案数: 8件</span>
					</div>

					<!-- User Profile -->
					<div class="dropdown dropdown-end">
						<div tabindex="0" class="btn btn-ghost btn-circle avatar">
							<div class="w-10 rounded-full">
								<img
									alt="プロフィール"
									src="https://daisyui.com/images/stock/photo-1535713875002-d1d0cf377fde.jpg"
								/>
							</div>
						</div>
						<ul
							tabindex="0"
							class="dropdown-content z-[1] menu p-2 shadow-lg bg-white rounded-box w-52"
						>
							<li><a href="dashboard-creator.html">ダッシュボード</a></li>
							<li><a href="#profile">プロフィール</a></li>
							<li><a href="#settings">設定</a></li>
							<li><a href="index.html">ログアウト</a></li>
						</ul>
					</div>
				</div>
			</div>
		</header>

		<!-- Sidebar -->
		<aside
			id="sidebar"
			class="sidebar-kawaii fixed left-0 top-0 h-full w-80 z-40 mobile-sidebar lg:transform-none"
		>
			<div class="p-6">
				<!-- Logo -->
				<div class="mb-8">
					<h2 class="text-2xl font-bold text-gray-800">WebMatch</h2>
					<p class="text-sm text-gray-500">受注者ダッシュボード</p>
				</div>

				<!-- User Info -->
				<div
					class="mb-8 p-6 bg-white rounded-3xl shadow-sm border border-gray-200"
				>
					<div class="flex items-center gap-4">
						<div class="avatar">
							<div class="w-14 rounded-full">
								<img
									src="https://daisyui.com/images/stock/photo-1535713875002-d1d0cf377fde.jpg"
									alt="プロフィール"
								/>
							</div>
						</div>
						<div>
							<h3 class="font-bold text-gray-800">田中 太郎</h3>
							<p class="text-sm text-gray-500">フリーランス</p>
						</div>
					</div>
				</div>

				<!-- Navigation -->
				<nav class="space-y-2">
					<a
						href="dashboard-creator.html"
						class="sidebar-item-kawaii flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
							/>
						</svg>
						<span class="font-medium">ダッシュボード</span>
					</a>
					<a
						href="projects-list.html"
						class="sidebar-item-kawaii flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
							/>
						</svg>
						<span class="font-medium">案件検索</span>
					</a>
					<a
						href="#"
						class="sidebar-item-kawaii active flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
							/>
						</svg>
						<span class="font-medium">提案管理</span>
					</a>
					<a
						href="chat.html"
						class="sidebar-item-kawaii flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"
							/>
						</svg>
						<span class="font-medium">メッセージ</span>
					</a>
					<a
						href="notifications.html"
						class="sidebar-item-kawaii flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"
							/>
						</svg>
						<span class="font-medium">通知</span>
					</a>
					<a
						href="review.html"
						class="sidebar-item-kawaii flex items-center gap-3"
					>
						<svg
							class="heroicon"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"
							/>
						</svg>
						<span class="font-medium">評価</span>
					</a>
				</nav>
			</div>
		</aside>

		<!-- Overlay for mobile -->
		<div
			id="sidebar-overlay"
			class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden hidden"
		></div>

		<!-- Main Content -->
		<main class="main-content-kawaii lg:ml-80 pt-20">
			<!-- Stats Overview -->
			<div class="grid md:grid-cols-4 gap-6 mb-8">
				<div class="kawaii-card p-6 text-center">
					<div class="stat-number text-blue-600">3</div>
					<div class="stat-label">提案中</div>
				</div>
				<div class="kawaii-card p-6 text-center">
					<div class="stat-number text-green-600">2</div>
					<div class="stat-label">採用済み</div>
				</div>
				<div class="kawaii-card p-6 text-center">
					<div class="stat-number text-orange-600">1</div>
					<div class="stat-label">進行中</div>
				</div>
				<div class="kawaii-card p-6 text-center">
					<div class="stat-number text-gray-600">2</div>
					<div class="stat-label">完了</div>
				</div>
			</div>

			<!-- Status Tabs -->
			<div class="mb-8">
				<div class="kawaii-card p-6">
					<div class="flex flex-wrap gap-2 mb-6">
						<button class="tab-btn active" data-status="all">すべて (8)</button>
						<button class="tab-btn" data-status="pending">提案中 (3)</button>
						<button class="tab-btn" data-status="accepted">採用済み (2)</button>
						<button class="tab-btn" data-status="in-progress">
							進行中 (1)
						</button>
						<button class="tab-btn" data-status="completed">完了 (2)</button>
					</div>
				</div>
			</div>

			<!-- Proposals List -->
			<div class="space-y-6">
				<!-- Proposal 1 - In Progress -->
				<div class="kawaii-card p-6 proposal-item" data-status="in-progress">
					<div class="flex flex-col lg:flex-row justify-between gap-6">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-4">
								<h3 class="text-xl font-bold text-gray-800">
									コーポレートサイトのリニューアル
								</h3>
								<span class="badge-kawaii bg-blue-100 text-blue-800"
									>進行中</span
								>
								<span class="badge-kawaii bg-green-100 text-green-800"
									>採用済み</span
								>
							</div>

							<div class="mb-4">
								<p class="text-gray-700 text-sm mb-2">
									発注者: 田中商事株式会社
								</p>
								<p class="text-gray-600 text-sm">
									React.jsとWordPressを使用したモダンなコーポレートサイトの構築を提案しました。
									現在デザインフェーズを進行中です。
								</p>
							</div>

							<div class="grid md:grid-cols-4 gap-4 text-sm">
								<div>
									<span class="text-gray-500">提案金額:</span>
									<span class="font-medium ml-2">¥780,000</span>
								</div>
								<div>
									<span class="text-gray-500">納期:</span>
									<span class="font-medium ml-2">2024/08/25</span>
								</div>
								<div>
									<span class="text-gray-500">進捗:</span>
									<span class="font-medium ml-2">35%</span>
								</div>
								<div>
									<span class="text-gray-500">提案日:</span>
									<span class="font-medium ml-2">2024/07/10</span>
								</div>
							</div>

							<div class="mt-4">
								<div class="w-full bg-gray-200 rounded-full h-2">
									<div
										class="bg-blue-600 h-2 rounded-full"
										style="width: 35%"
									></div>
								</div>
							</div>
						</div>

						<div class="flex flex-col justify-between lg:text-right">
							<div class="space-y-2 mb-4">
								<div
									class="flex lg:justify-end items-center gap-1 text-sm text-gray-600"
								>
									<svg
										class="heroicon"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"
										/>
									</svg>
									<span>未読メッセージ: 2件</span>
								</div>
							</div>

							<div class="flex flex-col sm:flex-row lg:flex-col gap-2">
								<button
									class="btn-kawaii btn-primary-kawaii text-sm"
									onclick="openChat(1)"
								>
									メッセージ
								</button>
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="viewProposal(1)"
								>
									詳細確認
								</button>
							</div>
						</div>
					</div>
				</div>

				<!-- Proposal 2 - Pending -->
				<div class="kawaii-card p-6 proposal-item" data-status="pending">
					<div class="flex flex-col lg:flex-row justify-between gap-6">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-4">
								<h3 class="text-xl font-bold text-gray-800">
									ECサイトの新規構築
								</h3>
								<span class="badge-kawaii bg-yellow-100 text-yellow-800"
									>提案中</span
								>
							</div>

							<div class="mb-4">
								<p class="text-gray-700 text-sm mb-2">発注者: 山田物産</p>
								<p class="text-gray-600 text-sm">
									Shopifyを使用したECサイトの構築と決済システム連携を提案。
									在庫管理機能も含めた包括的なソリューションです。
								</p>
							</div>

							<div class="grid md:grid-cols-4 gap-4 text-sm">
								<div>
									<span class="text-gray-500">提案金額:</span>
									<span class="font-medium ml-2">¥1,500,000</span>
								</div>
								<div>
									<span class="text-gray-500">納期:</span>
									<span class="font-medium ml-2">2024/09/30</span>
								</div>
								<div>
									<span class="text-gray-500">競合:</span>
									<span class="font-medium ml-2">8件</span>
								</div>
								<div>
									<span class="text-gray-500">提案日:</span>
									<span class="font-medium ml-2">2024/07/15</span>
								</div>
							</div>
						</div>

						<div class="flex flex-col justify-between lg:text-right">
							<div class="space-y-2 mb-4">
								<div
									class="flex lg:justify-end items-center gap-1 text-sm text-gray-600"
								>
									<svg
										class="heroicon"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
										/>
									</svg>
									<span>回答期限: 5日後</span>
								</div>
							</div>

							<div class="flex flex-col sm:flex-row lg:flex-col gap-2">
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="editProposal(2)"
								>
									提案編集
								</button>
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="viewProposal(2)"
								>
									詳細確認
								</button>
							</div>
						</div>
					</div>
				</div>

				<!-- Proposal 3 - Pending -->
				<div class="kawaii-card p-6 proposal-item" data-status="pending">
					<div class="flex flex-col lg:flex-row justify-between gap-6">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-4">
								<h3 class="text-xl font-bold text-gray-800">
									ランディングページ制作
								</h3>
								<span class="badge-kawaii bg-yellow-100 text-yellow-800"
									>提案中</span
								>
							</div>

							<div class="mb-4">
								<p class="text-gray-700 text-sm mb-2">
									発注者: スタートアップA
								</p>
								<p class="text-gray-600 text-sm">
									コンバージョン重視のランディングページ制作とA/Bテスト実装を提案。
									アニメーション効果で訴求力を高める設計です。
								</p>
							</div>

							<div class="grid md:grid-cols-4 gap-4 text-sm">
								<div>
									<span class="text-gray-500">提案金額:</span>
									<span class="font-medium ml-2">¥350,000</span>
								</div>
								<div>
									<span class="text-gray-500">納期:</span>
									<span class="font-medium ml-2">2024/08/15</span>
								</div>
								<div>
									<span class="text-gray-500">競合:</span>
									<span class="font-medium ml-2">15件</span>
								</div>
								<div>
									<span class="text-gray-500">提案日:</span>
									<span class="font-medium ml-2">2024/07/18</span>
								</div>
							</div>
						</div>

						<div class="flex flex-col justify-between lg:text-right">
							<div class="space-y-2 mb-4">
								<div
									class="flex lg:justify-end items-center gap-1 text-sm text-red-600"
								>
									<svg
										class="heroicon"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
										/>
									</svg>
									<span>回答期限: 明日</span>
								</div>
							</div>

							<div class="flex flex-col sm:flex-row lg:flex-col gap-2">
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="editProposal(3)"
								>
									提案編集
								</button>
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="viewProposal(3)"
								>
									詳細確認
								</button>
							</div>
						</div>
					</div>
				</div>

				<!-- Proposal 4 - Accepted -->
				<div class="kawaii-card p-6 proposal-item" data-status="accepted">
					<div class="flex flex-col lg:flex-row justify-between gap-6">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-4">
								<h3 class="text-xl font-bold text-gray-800">
									Webアプリケーション開発
								</h3>
								<span class="badge-kawaii bg-green-100 text-green-800"
									>採用済み</span
								>
								<span class="badge-kawaii bg-blue-100 text-blue-800"
									>契約準備中</span
								>
							</div>

							<div class="mb-4">
								<p class="text-gray-700 text-sm mb-2">
									発注者: テックカンパニーB
								</p>
								<p class="text-gray-600 text-sm">
									Vue.jsとLaravelを使用したWebアプリケーション開発が採用されました。
									契約書の確認と署名をお待ちしています。
								</p>
							</div>

							<div class="grid md:grid-cols-4 gap-4 text-sm">
								<div>
									<span class="text-gray-500">契約金額:</span>
									<span class="font-medium ml-2">¥2,800,000</span>
								</div>
								<div>
									<span class="text-gray-500">開始予定:</span>
									<span class="font-medium ml-2">2024/08/01</span>
								</div>
								<div>
									<span class="text-gray-500">期間:</span>
									<span class="font-medium ml-2">6ヶ月</span>
								</div>
								<div>
									<span class="text-gray-500">採用日:</span>
									<span class="font-medium ml-2">2024/07/20</span>
								</div>
							</div>
						</div>

						<div class="flex flex-col justify-between lg:text-right">
							<div class="space-y-2 mb-4">
								<div
									class="flex lg:justify-end items-center gap-1 text-sm text-green-600"
								>
									<svg
										class="heroicon"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
										/>
									</svg>
									<span>契約手続き中</span>
								</div>
							</div>

							<div class="flex flex-col sm:flex-row lg:flex-col gap-2">
								<button
									class="btn-kawaii btn-primary-kawaii text-sm"
									onclick="signContract(4)"
								>
									契約確認
								</button>
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="openChat(4)"
								>
									メッセージ
								</button>
							</div>
						</div>
					</div>
				</div>

				<!-- Proposal 5 - Completed -->
				<div class="kawaii-card p-6 proposal-item" data-status="completed">
					<div class="flex flex-col lg:flex-row justify-between gap-6">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-4">
								<h3 class="text-xl font-bold text-gray-800">
									WordPress サイト構築
								</h3>
								<span class="badge-kawaii bg-gray-100 text-gray-800">完了</span>
								<div class="flex items-center">
									<span class="text-yellow-400">⭐⭐⭐⭐⭐</span>
									<span class="text-sm text-gray-600 ml-1">(5.0)</span>
								</div>
							</div>

							<div class="mb-4">
								<p class="text-gray-700 text-sm mb-2">発注者: 中小企業C</p>
								<p class="text-gray-600 text-sm">
									WordPressを使用したコーポレートサイトの構築が完了しました。
									クライアントから高評価をいただきました。
								</p>
							</div>

							<div class="grid md:grid-cols-4 gap-4 text-sm">
								<div>
									<span class="text-gray-500">完了金額:</span>
									<span class="font-medium ml-2">¥450,000</span>
								</div>
								<div>
									<span class="text-gray-500">納期:</span>
									<span class="font-medium ml-2">予定通り</span>
								</div>
								<div>
									<span class="text-gray-500">期間:</span>
									<span class="font-medium ml-2">2ヶ月</span>
								</div>
								<div>
									<span class="text-gray-500">完了日:</span>
									<span class="font-medium ml-2">2024/06/30</span>
								</div>
							</div>
						</div>

						<div class="flex flex-col justify-between lg:text-right">
							<div class="space-y-2 mb-4">
								<div
									class="flex lg:justify-end items-center gap-1 text-sm text-green-600"
								>
									<svg
										class="heroicon"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
										/>
									</svg>
									<span>支払い完了</span>
								</div>
							</div>

							<div class="flex flex-col sm:flex-row lg:flex-col gap-2">
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="viewProject(5)"
								>
									実績詳細
								</button>
								<button
									class="btn-kawaii btn-outline-kawaii text-sm"
									onclick="viewReview(5)"
								>
									評価確認
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Load More -->
			<div class="text-center mt-8">
				<button class="btn-kawaii btn-outline-kawaii">さらに読み込む</button>
			</div>
		</main>

		<script>
			// Mobile sidebar toggle
			const mobileMenuBtn = document.getElementById('mobile-menu-btn');
			const sidebar = document.getElementById('sidebar');
			const overlay = document.getElementById('sidebar-overlay');

			mobileMenuBtn.addEventListener('click', () => {
				sidebar.classList.toggle('open');
				overlay.classList.toggle('hidden');
			});

			overlay.addEventListener('click', () => {
				sidebar.classList.remove('open');
				overlay.classList.add('hidden');
			});

			// Tab functionality
			document.querySelectorAll('.tab-btn').forEach((btn) => {
				btn.addEventListener('click', () => {
					// Remove active class from all tabs
					document.querySelectorAll('.tab-btn').forEach((tab) => {
						tab.classList.remove('active');
					});

					// Add active class to clicked tab
					btn.classList.add('active');

					// Filter proposals
					const status = btn.dataset.status;
					const proposals = document.querySelectorAll('.proposal-item');

					proposals.forEach((proposal) => {
						if (status === 'all' || proposal.dataset.status === status) {
							proposal.style.display = 'block';
						} else {
							proposal.style.display = 'none';
						}
					});
				});
			});

			// Action functions
			function openChat(id) {
				window.location.href = `chat.html?proposal_id=${id}`;
			}

			function viewProposal(id) {
				alert(`提案ID: ${id} の詳細を表示します（デモ）`);
			}

			function editProposal(id) {
				window.location.href = `create-proposal.html?edit_id=${id}`;
			}

			function signContract(id) {
				alert(`契約ID: ${id} の契約書を確認します（デモ）`);
			}

			function viewProject(id) {
				alert(`プロジェクトID: ${id} の実績詳細を表示します（デモ）`);
			}

			function viewReview(id) {
				window.location.href = `review.html?project_id=${id}`;
			}

			// Tab button styling
			const style = document.createElement('style');
			style.textContent = `
            .tab-btn {
                padding: 8px 16px;
                border-radius: 20px;
                border: 1px solid #e0e0e0;
                background: white;
                color: #666;
                font-size: 14px;
                font-weight: 500;
                transition: all 0.3s ease;
                cursor: pointer;
            }
            
            .tab-btn:hover {
                background: #f5f5f5;
                border-color: #ccc;
            }
            
            .tab-btn.active {
                background: linear-gradient(135deg, #1a1a1a 0%, #333333 100%);
                color: white;
                border-color: #1a1a1a;
            }
        `;
			document.head.appendChild(style);
		</script>
	</body>
</html>
